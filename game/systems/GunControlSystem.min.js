define("game/systems/guncontrolsystem",["ash/system","game/nodes/guncontrol"],function(n,t){function r(t,i){Object.extend(r.prototype,n.prototype),this.initialise(t,i)}var i=r.prototype;return i.keyPoll=null,i.creator=null,i.nodeList=null,i.initialise=function(n,t){return this.keyPoll=n,this.creator=t,this},i.addToEngine=function(n){this.nodeList=n.getNodeList(t)},i.removeFromEngine=function(){this.nodeList=null},i.update=function(n){for(var t=this.nodeList.head;t;t=t.next)this.updateNode(t,n)},i.updateNode=function(n,t){var r=n.control,u=n.position,i=n.gun;i.shooting=this.keyPoll.isDown(r.trigger),i.timeSinceLastShot+=t,i.shooting&&i.timeSinceLastShot>=i.minimumShotInterval&&(this.creator.createUserBullet(i,u),i.timeSinceLastShot=0)},r})