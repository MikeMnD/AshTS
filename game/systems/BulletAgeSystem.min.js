var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","core/System","game/nodes/BulletAge"],function(n,t,i,r){var u=i,f=r,e=function(n){function t(t){n.call(this),this.creator=null,this.nodeList=null,this.initialise(t)}return __extends(t,n),t.prototype.initialise=function(n){return this.creator=n,this},t.prototype.addToEngine=function(n){this.nodeList=n.getNodeList(f.BulletAge)},t.prototype.removeFromEngine=function(){this.nodeList=null},t.prototype.update=function(n){for(var t=this.nodeList.head;t;t=t.next)this.updateNode(t,n)},t.prototype.updateNode=function(n,t){var i=n.bullet;i.lifeRemaining-=t,i.lifeRemaining<=0&&this.creator.destroyEntity(n.entity)},t}(u.ash.core.System);t.BulletAgeSystem=e})