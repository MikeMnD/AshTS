define(["require","exports","tools/Signal","tools/Dictionary"],function(n,t,i,r){var u=i,f=r,e;(function(n){(function(n){var t=function(){function n(){this.componentAdded=new u.Signal,this.componentRemoved=new u.Signal,this._components=new f.ash.tools.Dictionary}return n.prototype.add=function(n,t){return typeof t=="undefined"&&(t=null),t||(t=n.prototype),this._components.has(t)&&this.remove(t),this._components.add(t,n),this.componentAdded.dispatch(this,t),this},n.prototype.remove=function(n){var t=this._components.getValue(n);return t?(this._components.remove[n],this.componentRemoved.dispatch(this,n),t):null},n.prototype.get=function(n){return this._components.getValue(n.prototype)},n.prototype.getAll=function(){var n=[];return this._components.forEach(function(t,i){n.push(i)}),n},n.prototype.has=function(n){return this._components.has(n)!=null},n}();n.Entity=t})(n.core||(n.core={}));var t=n.core})(t.ash||(t.ash={})),e=t.ash})